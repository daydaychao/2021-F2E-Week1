import{j as E,u as k,S as b,L as h,t as I,c as L,r as g,a as B,C,b as O,d as T,B as j,e as y,R as d,Q as H,f as R,g as K}from"./vendor.3ba0a0c6.js";const N=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerpolicy&&(o.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?o.credentials="include":u.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(u){if(u.ep)return;u.ep=!0;const o=s(u);fetch(u.href,o)}};N();const n=E.exports.jsx,c=E.exports.jsxs,p=E.exports.Fragment;function A({headerStyle:e}){let t=!0;return e!="home"&&(t=!1),console.log("[Header] useLocation:",k()),c(p,{children:[t&&c("header",{className:"flex flex-col justify-center px-4 items-center min-h-[330px] md:min-h-[590px] home-top-image",children:[n("h1",{className:"text-white text-3xl md:text-4xl mb-5",children:"\u53F0\u7063\u65C5\u904A\u666F\u9EDE\u5C0E\u89BD"}),n("h4",{className:"text-white text-base md:text-3xl mb-5",children:"\u5168\u53F0\u7063\u89C0\u5149\u666F\u9EDE\u5831\u4F60\u77E5\uFF0C\u4EA4\u901A\u9910\u98F2\u65C5\u5BBF\u901A\u901A\u6709!"}),c("div",{className:"flex flex-row items-center bg-white px-2 h-[50px] md:h-[75px] w-3/4 rounded-lg mb-4 border-2 md:border-4 border-black",children:[n(b,{className:"h-10 w-10"}),n("input",{className:"h-full w-full p-5",placeholder:"\u5730\u9EDE...\u535A\u7269\u9928...\u65C5\u904A\u57CE\u5E02"})]}),n("button",{className:"btn-green w-[170px]",children:"\u641C\u5C0B"})]}),!t&&n("header",{className:"h-[99px] bg-green-light p-3",children:n(h,{to:"home",children:c("div",{className:"mx-auto container",children:[n("h1",{className:"text-3xl md:text-2xl mb-2",children:"\u53F0\u7063\u65C5\u904A\u666F\u9EDE\u5C0E\u89BD"}),n("h4",{className:"text-base md:text-lg ",children:"\u5168\u53F0\u7063\u89C0\u5149\u666F\u9EDE\u5831\u4F60\u77E5\uFF0C\u4EA4\u901A\u9910\u98F2\u65C5\u5BBF\u901A\u901A\u6709!"})]})})})]})}var f;(function(e){e.Taipei="Taipei",e.NewTaipei="NewTaipei",e.Taoyuan="Taoyuan",e.Taichung="Taichung",e.Tainan="Tainan",e.Kaohsiung="Kaohsiung",e.Keelung="Keelung",e.Hsinchu="Hsinchu",e.HsinchuCounty="HsinchuCounty",e.MiaoliCounty="MiaoliCounty",e.ChanghuaCounty="ChanghuaCounty",e.Nantou="NantouCounty",e.YunlinCounty="YunlinCounty",e.ChiayiCounty="ChiayiCounty",e.Chiayi="Chiayi",e.PingtungCounty="PingtungCounty",e.YilanCounty="YilanCounty",e.HualienCounty="HualienCounty",e.TaitungCounty="TaitungCounty",e.KinmenCounty="KinmenCounty",e.PenghuCounty="PenghuCounty",e.LienchiangCounty="LienchiangCounty"})(f||(f={}));var x;(function(e){e.Kaohsiung="\u9AD8\u96C4\u5E02",e.Taipei="\u81FA\u5317\u5E02",e.Chiayi="\u5609\u7FA9\u5E02",e.Taichung="\u81FA\u4E2D\u5E02",e.HualienCounty="\u82B1\u84EE\u7E23",e.YunlinCounty="\u96F2\u6797\u7E23",e.PingtungCounty="\u5C4F\u6771\u7E23",e.KinmenCounty="\u91D1\u9580\u7E23",e.PenghuCounty="\u6F8E\u6E56\u7E23",e.YilanCounty="\u5B9C\u862D\u7E23",e.MiaoliCounty="\u82D7\u6817\u7E23",e.LienchiangCounty="\u9023\u6C5F\u7E23",e.HsinchuCounty="\u65B0\u7AF9\u7E23",e.NewTaipei="\u65B0\u5317\u5E02",e.Taoyuan="\u6843\u5712\u5E02",e.Keelung="\u57FA\u9686\u5E02",e.Hsinchu="\u65B0\u7AF9\u5E02",e.ChiayiCounty="\u5609\u7FA9\u7E23",e.NantouCounty="\u5357\u6295\u7E23",e.ChanghuaCounty="\u5F70\u5316\u7E23",e.Tainan="\u81FA\u5357\u5E02",e.TaitungCounty="\u81FA\u6771\u7E23"})(x||(x={}));const D=()=>Object.values(f),F=()=>Object.values(x),M=(e,t)=>e.filter(s=>s!==t),$="https://ptx.transportdata.tw/MOTC/v2/",S="Tourism/ScenicSpot/";function U(e){return{ID:e.ID,City:e.City,Name:e.Name,Phone:e.Phone,Address:e.Address,ZipCode:e.ZipCode,DescriptionDetail:e.DescriptionDetail,Description:e.Description,TravelInfo:e.TravelInfo,OpenTime:e.OpenTime,Picture:e.Picture,MapUrl:e.MapUrl,Position:e.Position,Class1:e.Class1,Class2:e.Class2,Class3:e.Class3,Level:e.Level,WebsiteUrl:e.WebsiteUrl,ParkingInfo:e.ParkingInfo,ParkingPosition:e.ParkingPosition,TicketInfo:e.TicketInfo,Remarks:e.Remarks,Keyword:e.Keyword}}function Y(e){return String(new globalThis.URL(e,$))}async function w(e){return fetch(Y(e)).then(t=>t.json()).then(t=>t.map(U,t)).then(I(console.log))}const v={getAll:()=>w(`${S}?$top=5`),getByCityName:e=>w(`${S}${e}`)},m=L(e=>({scenicSpotsAll:[],scenicSpotsFiltered:[],scenicSpotId:{},async getScenicSpotsAll(){v.getAll().then(t=>e(s=>s.scenicSpotsAll=t))}})),Q=()=>Object.keys(x).map(e=>`/images/${e}.jpg`);function q(){const e=m(r=>r.scenicSpotsAll);let t=D(),s=F(),l=Q();const u="bg-gray-300 bg-cover h-[220px] relative text-center overflow-hidden hover:cursor-pointer",o="text-white absolute bottom-2 left-2",i=m(r=>r.getScenicSpotsAll);return g.exports.useEffect(()=>{e.length===0&&i(),console.log("allLocation:",e)},[e]),c(p,{children:[n("h1",{className:"text-xl md:text-2xl font-bold mb-4",children:"\u71B1\u9580\u666F\u9EDE"}),n("div",{className:"grid grid-col md:grid-cols-3 gap-4 ",children:s.map((r,a)=>n(h,{to:"scenicSpot?city="+t[a],children:n("div",{className:u,style:{backgroundImage:`url(${l[a]})`},children:n("label",{className:o,children:r})})},a))})]})}function G({name:e,text:t,isChecked:s,onChange:l}){return c("label",{className:"flex items-center space-x-3 mb-3 cursor-pointer",children:[n("input",{type:"checkbox",name:e,onChange:l,className:"form-tick appearance-none bg-white bg-check h-6 w-6 border border-gray-300 rounded-md checked:bg-green-light checked:border-transparent focus:outline-none"}),n("span",{className:"text-gray-700 hover:text-green-500 dark:text-white font-normal",children:t})]})}let P=D(),z=F();function J(){let e=[];const[t,s]=B("city",O),[l,u]=g.exports.useState([]);t&&e.push(t.toString());const o=r=>{v.getByCityName(r).then(a=>{u(a)})},i=r=>{if(console.log("handleChange"),e.includes(r.target.name)){e=M(e,r.target.name),s(e.toString());return}e.push(r.target.name),s(e.toString())};return g.exports.useEffect(()=>{e.length===1&&o(e.toString()),console.log("cityList:",e)},[t]),c(p,{children:[c("section",{className:"flex flex-row items-center border",children:[n(h,{to:"home",children:"\u9996\u9801"}),n(C,{className:"h-4 w-4"}),n(h,{to:"home",children:"\u57CE\u5E02"}),n(C,{className:"h-4 w-4"}),"\u666F\u9EDE"]}),c("section",{className:"flex flex-row border",children:[n("article",{className:"inline-flex flex-shrink-0 flex-col border",children:z.map((r,a)=>n(G,{onChange:i,isChecked:P[a]===r,name:P[a],text:r},a))}),c("article",{className:"inline-flex flex-col border",children:[c("div",{className:"flex flex-row items-center bg-white px-2 h-[50px] md:h-[75px] w-3/4 rounded-lg mb-4 border-2 md:border-4 border-black",children:[n(b,{className:"h-10 w-10"}),n("input",{className:"h-full w-full p-5",placeholder:"\u5730\u9EDE...\u535A\u7269\u9928...\u65C5\u904A\u57CE\u5E02"}),c("button",{className:"btn-green w-[170px]",onClick:()=>o(f.Taipei),children:["\u641C\u5C0B ",n(C,{className:"h-10 w-10"})]})]}),c("small",{children:[" ",l.length," \u9805\u666F\u9EDE"]}),l&&l.map(r=>c("div",{className:"flex flex-row",children:[n("div",{children:n("img",{src:r.Picture.PictureUrl1})}),c("div",{children:[n("h1",{children:r.Name}),n("small",{children:r.Description}),n(h,{to:`scenicSpot/${r.ID}`,children:n("button",{className:"btn-green",children:"\u8A73\u7D30\u4ECB\u7D39"})})]})]},r.ID))]})]})]})}function V(){const{id:e}=T(),t=m(o=>o.scenicSpotsAll),s=m(o=>o.getScenicSpotsAll),l=o=>t.find(i=>i.ID===o);let u=l(e);return g.exports.useEffect(()=>{t.length===0&&s(),u&&u.ID!=e&&(console.warn("detail.ID != id",u.ID),l(e))},[t,u,e]),n(p,{children:u&&c("div",{children:[u.ID,u.Name,"TODO Pan ... types.tsx",n("br",{}),"TODO Pan. \u8CC7\u6599+\u5730\u5716",n("br",{}),"TODO Joeni \u5207\u5716"]})})}function X(){return n(j,{children:c("div",{className:"h-screen flex flex-col",children:[c(y,{children:[n(d,{exact:!0,path:"/home",children:n(A,{headerStyle:"home"})}),n(d,{children:n(A,{headerStyle:"pages"})})]}),n("main",{className:"container p-5 md:p-10 mx-auto",children:n(y,{children:c(H,{ReactRouterRoute:d,children:[n(d,{exact:!0,path:"/home",component:q}),n(d,{exact:!0,path:"/scenicSpot",component:J}),n(d,{path:"/scenicSpot/:id",component:V})]})})}),n("footer",{className:"text-center flex justify-center items-center bg-black text-white min-h-[40px] md:h-[60px] text-sm",children:"\u53F0\u7063\u65C5\u904A\u5C0E\u89BD 2021-11-05 08:59"})]})})}R.render(n(K.StrictMode,{children:n(X,{})}),document.getElementById("root"));
